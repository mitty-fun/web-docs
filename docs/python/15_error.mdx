---
sidebar_position: 15
title: '15. 程式出錯啦'
---
import Playground  from '../../src/components/playground'
import Quiz  from '../../src/components/quiz'

# 程式出錯啦
程式是一種和電腦溝通的語言，如果電腦聽不懂你所說的指令，它就無法按照你所預期的去執行。<br/>
但電腦仍會試著告訴你它看不懂的地方，這就是錯誤訊息。

## 三種程式錯誤
程式錯誤主要分成三種類型：<br/>

|類型|出現情況|
|-|-|
|**語法錯誤**|表示電腦看不懂你所要表達的，它就無法按照你的指示去執行，<br/>通常會發生的情況是，你沒有按照語法規則去設計程式。<br/>例如：少加一個括號或是語法單詞拼錯，就會導致語法錯誤。
|**執行錯誤**|電腦可以正確解讀你要它執行的事情，但當電腦真正去執行時到一半，<br/>發現錯誤導致無法再執行下去。<br/>例如：變數名稱打錯、或執行不存在的函式、字串和數值型態相加等。
|**邏輯錯誤**|當語法沒有錯誤而且執行時也沒有錯誤，但最後執行的結果和預期的不一樣。<br/>這就不是電腦或程式的問題，而是程式設計本身的漏洞。<br/>例如：你設計一個飛船遊戲，可以左右鍵控制它左右移動，但當按下右鍵飛船卻向左移動。

讓我們來深入了解這三種錯誤，在以後面對到同樣錯誤時就可以更快的找出問題。

### 語法錯誤
目前為止我們已經學了許多語法，你應該會發現條件 `if`、`else`、`elif` 和迴圈 `for`、`while` 以及函式 `def`
都會有一個範圍程式要包住，這些在冒號 `:` 後的程式都會縮排。

在 python 程式中會用 `縮排` 來表示階層的概念，如果沒有正確縮排或是少打冒號 `:` 就會讓電腦無法理解程式導致錯誤。

但是執行時卻出現語法錯誤，試著修正它吧：
<Playground python={`
a = 10
b = 20
if a > b:
  print('a 比較大')
else:
  if b > a:
    print('b 比較大')
  else:
  print('一樣大')
`} />

:::info 小技巧
「IndentationError」表示縮排錯誤，保持良好的排版習慣，
除了幫助自己和別人容易閱讀，也可以讓我們快速的發現這些錯誤！
:::

### 執行錯誤
如果程式沒有語法錯誤，電腦可以正確解讀並執行，但在執行的過程中卻出現了錯誤。

執行以下程式後會出現錯誤，試著找出問題並修正！
<Playground python={`
a = 10
b = 20\n
if a > c:
  print('a 比較大')
else:
  print('b 比較大')
`} />

這個程式試著比較兩個變數 `a` 和 `b` 的大小，並將結果顯示出來。<br/>
語法並沒有任何的錯誤，電腦每一行都可以看懂，當電腦把每一行程式都閱讀完後就會開始去執行，<br/>
但當它執行到比較大小的該行程式時，主控台出現了「NameError: name 'c' is not defined」錯誤並停了下來，<br/>
它試著去必較變數 `a` 和 `c`，但是變數 c 卻不存在，這表示我們打錯了變數名稱。

除了變數名稱打錯外，函式名稱打錯也是屬於執行錯誤的一種：
<Playground python={`
from random import randrange
rand = randrenge(100)
print(rand)
`}/>

眼尖的你們應該就會發現，產生隨機數整數是 random 套件下 `randrange` 方法，但是我們把 `a` 的拼錯成 `e`。

:::info 小技巧
當主控台出現「NameError」錯誤訊息時，表示電腦去讀取 xx 時卻找不到，通常是變數、函式名稱拼錯。
:::

### 邏輯錯誤
程式沒有語法錯誤且執行過程有沒有出現錯誤訊息，但是結果卻和預期的不一樣，這就屬於邏輯錯誤。<br/>
因為邏輯錯誤沒有明確的錯誤訊息，所以通常會比較難解決，需要透過測試和推理來找出問題！

以下是數學加法的程式，但是執行時結果卻和預期不一樣，而且執行的過程中並沒有任何的錯誤訊息出現。<br/>
試著修正程式讓它可以正確計算結果：

<Playground python={`
a = input('輸入 a 數值')
b = input('輸入 b 數值')
print(a + b)
`}/>

執行程式我們發現輸入的兩個數值並不會做加法計算，如果仔細觀察會發現程式其實是把兩個數值文字串接起來。<br/>
所以我們可以猜測 `a` 和 `b` 兩個變數裡的資料型態是數值而不是字串。<br/>
原因是 `input` 函式取得輸入時就是字串型態，如果要做數學計算要透過 `int` 函式將資料轉換成數值才行。

<Quiz
  description={`請問以下敘述何者正確？`}
  options={[
    'IndentationError 表示程式縮排出現問題',
    'NameError 表示程式讀取時發生錯誤，可能是變數名稱拼錯',
    'TypeError 表示型態錯誤，可能是程式試圖數值加上字串導致錯誤',
    '以上皆是'
  ]}
  answer={3}
/>