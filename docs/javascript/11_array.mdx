---
title: '11. 認識陣列'
sidebar_position: 11
---
import Playground  from '../../src/components/playground'
import Quiz  from '../../src/components/quiz'

# 認識陣列
陣列是程式用來存放大量資料的一種方式。

## 為什麼需要陣列
想像一個情境，我們想要設計一個程式，用來紀錄某間餐廳，每一位用完餐的客人給予的評價星星，
接著程式可以根據所有的評價資料，統計出平均星星數，以及給予不同星星數的人數。

還記得在程式中我們要紀錄資料，就要透過變數，如果餐廳有 10 位客人給出評價，那我們就要使用 10 個變數去紀錄，
就像下方的程式範例一樣，我們要創造 `a, b, c, ... j` 總共 10 個變數來儲存。

<Playground javascript={`
let a = 5;
let b = 4;
let c = 5;
let d = 3;
let e = 4;
let f = 5;
let g = 2;
let h = 5;
let i = 4;
let j = 1;
`}/>

但我們的資料總不可能永遠固定是 10 個，隨著時間仍會不斷收集客人的回饋，得到的星星評價資料也會越來越多，
可能增加到 100、1000 筆甚至上萬筆資料，所以我們不可能在程式中去創造那麼多的變數，這個時候就要用到陣列。

## 陣列長什麼樣子
我們可以把陣列想像成是一個櫃子，這個櫃子有很多個格子讓我們存放東西，每個格子上都有一個編號。
在程式中，我們會用一對中括號 `[]` 來表示陣列，延續上個範例，如果我們要把 10 個變數的評價資料改用陣列存放，可以改寫成這樣：
<Playground javascript={`
let stars = [5, 4, 5, 3, 4, 5, 2 ,5, 4, 1];
`}/>

我們可以把每一筆資料填入中括號中，而每一筆資料之間必須有逗號 `,` 相隔。
這樣是不是整潔多了，我們只要用一個變數去存放一個陣列，就可以把所有的資料都記下來。

如果把 `stars` 變數給印出來，你會看到陣列中 10 個數字確實有被存起來。

## 讀取資料
前面說到陣列就像是一個**櫃子**，它有很多個格子可以存放東西，而每一個格子都有一個獨一無二的編號。<br/>
陣列中的資料編號，會從編號從 `0` 開始，依序排下去。透過一對中括號 `[]` 並填入編號數字就可以去讀取陣列中指定位置的資料：
<Playground javascript={`
let stars = [5, 4, 5, 3, 4, 5, 2 ,5, 4, 1];\n
console.log(stars[0]);
console.log(stars[1]);
console.log(stars[2]);
`}/>

再來一個例子，以下是一個存有 5 個水果的陣列
<Playground javascript={`
let fruit = ['橘子', '蘋果', '香蕉', '芭樂', '草莓'];\n
console.log(fruit[0]);
console.log(fruit[1]);
console.log(fruit[4]);
`}/>

讀取超過範圍的編號，如果讀取陣列資料時，傳入的編號超過範圍會不會導致程式錯誤呢？試著執行看看吧：
<Playground javascript={`
let fruit = ['橘子', '蘋果', '香蕉', '芭樂', '草莓'];\n
console.log(fruit[5]);
`}/>

執行後你會看到當印出編號 5 的元素時，會因為超出陣列所以會返回 `undefined` 表示沒有東西，<br/>
但程式並不會出現紅色的錯誤訊息。

## 新增、修改、刪除
我們把 Javascript 中的陣列比喻成「櫃子」，而這個櫃子更是一種可以靈活組裝的「組合櫃」，<br/>
可以隨時新增格子來裝更多的東西，或拆除格子順便刪掉不要的東西。

### 修改資料
和變數一樣我們可以透過等號 `=` 將資料存入指定的位置，如果裡面已經有資料就會被覆蓋過去。
<Playground javascript={`
let fruit = ['橘子', '蘋果', '香蕉', '芭樂', '草莓'];\n
fruit[2] = '芭樂';\n
console.log(fruit);
console.log(fruit[2]);
`}/>

### 新增資料
push 有推入的意思，可以使用 `push` 語法將資料新增在陣列最後。
<Playground javascript={`
let fruit = ['橘子', '蘋果', '香蕉', '芭樂', '草莓'];
fruit.push('鳳梨');
fruit.push('芒果');
console.log(fruit);
`}/>

### 移除資料
pop 有彈出的意思，可以使用 `pop` 語法將資料從陣列中移除。
<Playground javascript={`
let fruit = ['橘子', '蘋果', '芭樂', '芭樂', '草莓'];
fruit.pop();
console.log(fruit);
`}/>

## 計算長度
可以直接使用 `length` 屬性，來取得陣列中目前存有多少資料。

<Playground javascript={`
let fruit = ['橘子', '蘋果', '芭樂', '芭樂', '草莓'];
console.log(fruit.length);
`}/>

:::caution 屬性和方法
取得陣列的長度，直接用 `.length` 而不用加上一對小括號執行，是因為這是屬性而不是方法，<br/>
屬性像是變數一樣，而方法則是需要透過加上一對小括號執行，才能讀取結果。
:::

字串和陣列一樣都有 length 屬性表示其內容長度，如果是字串則表示有多少個字。
<Playground javascript={`
let brand = 'orangeapple';
console.log(brand.length);
`}/>

<Quiz
    description={`請問以下關於陣列的敘述何者正確？`}
    options={[
        '陣列可以儲存任何型態的資料',
        '陣列裡的資料編號從 0 開始',
        '陣列用一對中括號 [] 表示',
        '以上皆對'
    ]}
  answer={3}
/>

## 陣列應用
在了解陣列的基本概念後，我們來設計一個抽籤程式，這個程式可以輸入多個個姓名病存在陣列 `names` 中，<br/>
並產生一個隨機整數作為編號，從陣列中隨機抽取出一個幸運兒作為得獎者。

程式中的 `Math.random` 方法會產生 0-1 的隨機小數，而 `Math.floor` 方法會將數值的小數部分去除。

<Playground javascript={`
let names = [];
let count = Number(prompt('多少個名字?'));\n
for (let i=0; i<count; i++) {
    names.push(prompt('請輸入姓名：'));
}\n
let rand = Math.floor(Math.random() * count);
let winner = names[rand];
alert('得獎的是' + winner);
`}/>

:::info 重點整理
* 陣列用一對中括號 `[]` 表示
* 陣列中的每一個元素用逗號 `,` 相隔
* 陣列中的每一筆資料都有一個編號，編號從 0 開始增加
* 使用 `.push` 方法可以將資料存入陣列的最後一筆
* 使用 `.pop` 方法可以將陣列中最後一筆資料移除
* 使用 `.length` 屬性可以取得陣列中有多少個元素
:::