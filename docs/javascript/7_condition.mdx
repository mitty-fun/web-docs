---
title: '7. 條件判斷'
sidebar_position: 7
---
import Playground  from '../../src/components/playground'
import Quiz  from '../../src/components/quiz'

# 條件判斷
程式中的條件判斷，就像是寫文章所使用「如果 ... 就 ...」的造樣造句。

## 如果... 就...
我們試著用「如果 ... 就 ...」來造樣造句
```
如果天黑，就打開路燈
如果溫度太高，就灑水降溫
如果未滿 18 歲，就可以用學生價格購買
```

將上面的例子用 JavaScript 程式語言裡的條件判斷改寫：
```
if ( 天黑 ) { 打開路燈 }
if ( 溫度太高 ) { 灑水降溫 }
if (未滿 18 歲 ) { 可以用學生價格購買 }
```

JavaScript 程式語言的條件判斷語法，是由關鍵字 `if` 以及一對小括號 `()` 和一對大括號 `{}` 所組合而成。

試著執行以下程式，並輸入不同的成績數值
<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 60) {
    console.log('及格');
}
`}/>

當我們輸入大於等於 60 的數值時，主控台會顯示「及格」的文字，<br/>但如果輸入小於 60 的數值則什麼文字都不會顯示。

:::caution 換行縮排
條件判斷的大括號 `{}` 在程式中有**範圍**的作用，可以將一行以上的程式打包起來，<br/>
裡面的程式會做換行以及縮排的排版，除了讓程式更容易閱讀外，也可以讓排除錯誤更加容易喔！
:::

如果我們想要在成績不及格時，顯示「不及格」的文字訊息可以再增加一個條件判斷：
<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 60) {
    console.log('及格');
}
if (score < 60) {
    console.log('不及格');
}
`}/>
新增的條件判斷，會判斷如果數值低於 60 就顯示不及格，這樣所有輸入的數字範圍都可以涵蓋到。

## 如果... 就... 否則...
上一個例子中，程式必須針對條件成立以及不成立，都要去做對應的處理，去顯示不同的文字訊息，
這樣的情況是很常見的，例如我們想要驗證使用者的輸入是不是符合格式，如過不符合格式我們至少要告訴使用者他所輸入的內容有錯，
而不是什麼情況都沒跟使用者告知，這樣的程式是會讓使用的人感到困惑。

因此條件判斷語法，還提供了**否則**語法。

我們試著用「如果 ... 就 ... 否則 ...」來造樣造句
```
如果天黑，就打開路燈，否則就關閉路燈
如果溫度太高，就灑水降溫，否則就收起遮陽
如果未滿 18 歲，就可以用學生價格購買，否則就要用原價購買
```
將上面的例子用 JavaScript 程式語言裡的條件判斷改寫：
```
if ( 天黑 ) { 打開路燈 } else { 關閉路燈 }
if ( 溫度太高 ) { 灑水降溫 } else { 收起遮陽 }
if (未滿 18 歲 ) { 可以用學生價格購買 } else { 用原價購買 }
```
JavaScript 程式語言的否則條件判斷語法，是 `if () {}` 如果語法後面，再加上 `else` 語法以及一對大括號 `{}`

我們可以用這個語法把上一個例子用更簡潔的方式呈現：

<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 60) {
    console.log('及格');
} else {
    console.log('不及格');
}
`}/>

如果小括號內的條件成立，就執行接著的大括號內的程式，否則就執行 `else` 語法後的大括號內的程式。

## 巢狀程式
現在我們想要修改上一個例子，如果成績落在 50 - 59 分之間，我們想要給他再一次補考的機會，<br/>
並讓程式顯示「補考」該怎麼做呢？我們可以在分數小於 60 時再加上一個條件判斷。
<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 60) {
    console.log('及格');
} else {
    if (score >= 50) {
        console.log('補考');
    } else {
        console.log('不及格');
    }
}
`}/>

如果輸入的數值低於 60 分，程式會執行 `else` 語法後的大括號內的程式，
而裡面的程式還會再去判斷是否有達到 50 分，並顯示對應訊息。

## 縮排的重要
同學們應該有發現，當我們開始使用到條件語法時，程式的排版方式似乎變得不太一樣。<br/>
寫在大括號 `{}` 內的程式，都統一向右縮了一個距離（通常會按下一個 `tab` 按鍵）這個動作稱為「縮排」。

縮排是為了呈現程式階層的概念，良好的程式排版，可以幫助我們在閱讀程式時更容易，同時也能減少程式寫錯的機會。

底下的兩個程式範例 A 和 B 你覺得哪一個更好閱讀？<br/>
如果你試著去執行程式，你會發現 B 範例會有錯誤，這種錯誤如果沒有做好排版就會容易發生，你能發現嗎？

#### A. 程式有縮排，容易閱讀，可以減少發生語法錯誤。
<Playground javascript={`
if (score >= 60) {
    console.log('及格');
} else {
    if (score >= 50) {
        console.log('補考');
    } else {
        console.log('不及格');
    }
}
`}/>

#### B. 程式沒有縮排，不易閱讀，容易造成語法錯誤。
<Playground javascript={`
if (score >= 60) {
console.log('及格');
} else {
if (score >= 50) {
console.log('補考');
} else {
console.log('不及格');
}
`}/>

比較上面兩個例子後，你能找範例 B 的錯誤並修正嗎？<br/>
你可以試著在程式區按下右鍵，並點選 `format document` 選項，它會自動幫你進行縮排，
透過自動縮排你會快速的發現錯誤！

:::info 小技巧
大部分的程式編輯器都會提供自動排版的功能，只需一鍵就會自動排版，幫助你避免寫出語法錯誤！
:::

## 否則如果
現在我們不用及格、補考、不及格的方式來判別成績，改用級分 A、B、C、D、E 來標示

|等級|分數區間|
|-|-|
|A|90 - 100|
|B|80 - 89|
|C|70 - 79|
|D|60 - 69|
|E|0 - 59|

只能使用 `if` 以及 `else` 語法，程式通常會寫成這樣：
<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 90) {
    console.log('A');
} else {
    if (score >= 80) {
        console.log('B');
    } else {
        if (score >= 70) {
            console.log('C');
        } else {
            if (score >= 60) {
                console.log('D');
            } else {
                console.log('E');
            }
        }
    }
}
`}/>
看完後是不是覺得這樣的設計挺糟糕的？如果我們再繼續增加條件，那程式就會「越陷越深」。

為了解決多重條件的情境，因此程式提供了 `else if` 如果否則語法，
我們可以應用它將程式改寫成如下：
<Playground javascript={`
let score = Number(prompt('成績：'));\n
if (score >= 90) {
    console.log('A');
} else if (score >= 80) {
    console.log('B');
} else if (score >= 70) {
    console.log('C');
} else if (score >= 60) {
    console.log('D');
} else {
    console.log('E');
}
`}/>
程式會由第一個條件依序往下判斷，如果有條件成立就會執行對應的大括號內的程式，執行完後後面的程式就不再判斷執行，
如果所有的條件都不成立，最後就會執行 `else` 否則語法後的程式。

<Quiz
  description={`請問關於 JavaScript 條件判斷語法何者錯誤？`}
  options={[
    '條件判斷語法一定會有 if 和一對小括號 () 組合而成',
    '小括號內的條件如果是 true 就會執行大括號內的程式',
    '使用 else if 語法最後一定要寫 else 語法，否則程式會出錯',
  ]}
  answer={2}
/>

:::info 重點整理
* 條件判斷由 `if` 語法和一對小括號 `()` 以及一對大括號 `{}` 組合而成
* 條件判斷大括號 `{}` 語法具有**範圍**的作用，可以打包一行以上的程式
* 大括號內的程式通常會換行和縮排的排版，除了讓程式更容易閱讀外，也能減少發生語法錯誤
:::