---
sidebar_position: 14
title: '14. 函式'
---
import Playground  from '../../src/components/playground'
import Quiz  from '../../src/components/quiz'

# 函式
一個龐大的系統背後的程式會是許多人一起共同開發，如何讓每個人設計的功能整合起來，<br/>
函式是一個非常好解決這件事情的方法之一。

想像一個情境，我們要為一個飯糰製造工廠設計一個自動化產生線，我們可以把做飯糰拆解步驟：
* 煮飯
* 壓成三角形
* 包裝

我們決定把這三個功能交給三位不同的設計師去設計，最後我們再把三個功能給組合起來。<br/>
這三個功能分別就可以是三個不同的函式。

## 函式長什麼樣子
還記得 `alert()`、`prompt()` 或是 `console.log()` 這幾個`方法`(指令)，
在執行時都會再後面加上一對小括號 `()` 表示執行，這些就是設計好的**函式**。

### 內建函式
預先設計好的函式我們稱為「內建函式」。我們並不需要知道 alert 指令背後為什麼可以讓網頁跳出文字框，
我們只需要知道執行 alert 函式可以做到這件事情就好。這就是函式的作用，將功能包裝起來，
讓使用者不需要了解細節就可以應用它。

## 設計函式
函式像是工廠裡的加工機器，你可以傳入一些原物料，它經過了一番處理後就會返回一個成品給你。<br/>
例如你可以設計一個果汁機的函式，你可以傳入水果作為原物料，經過一番處理後它就會輸出打好的果汁給你。

試著執行以下程式看看會印出什麼：
<Playground javascript={`
function juicer(fruit) {
  let drink = fruit + '汁'
  return drink
}\n
console.log(juicer);
`} />

我們成功的創造了一個函式 `juicer` 如果使用主控台印出可以看到該函式的內容。

我們可以使用 `function` 語法去創造函式，後面接著的是函式的名稱，執行時會使用到它。<br/>
接著會有一對小括號 `()` 和一對大括號 `{}`，
小括號內是機器的原物料入口，定義這台機器需要輸入什麼樣的東西。
大括號內是機器主要運作功能，定義這台機器會如何運作來完成任務。
`return` 語法是將最後的成品結果返回，此語法後面的程式將不會再被執行。

接著試著去執行這個函式，執行看看吧：
<Playground javascript={`
function juicer(fruit) {
  let drink = fruit + '汁'
  return drink
}\n
let a = juicer('香蕉');
console.log(a) //印出香蕉汁
`} />

使用一對小括號 `()` 成功執行以上程式，並在小括號中把該函式需要的參數(原物料)一個水果字串傳入，<br/>
接著創造一個 `a` 變數去接收執行函式最後返回的結果，印出後就會是「香蕉汁」的文字。

### 函式不一定要有輸入或輸出
這是沒有輸入的函式：
<Playground javascript={`
function hi () {
  return '你好';
}\n
let result = hi();
console.log(result);
`} />

這是沒有輸出的函式：
<Playground javascript={`
function hi (text) {
  console.log(text);
}
hi('你好');
`} />

這是沒有輸入和輸出的函式：
<Playground javascript={`
function hi () {
  console.log('妳好');
}
hi();
`} />

### 返回值
`return` 語法是函式用來返回最後的計算結果，既然都返回成果，就表示後面的程式將不再被執行。
因此執行 `return` 語法後，整個函式程式將會結束不再執行。

看看以下程式執行後會印出什麼？
<Playground javascript={`
function test () {
  console.log('A');
  return 'A';
  console.log('B');
  return 'B';
  console.log('C');
  return 'C';
  console.log('D');
  return 'D';
}\n
let result = test();
console.log(result);
`} />

該程式會印出兩個 A 字母，這是因為執行 `test` 函式後，<br/>
裡面會印出 A 字母，接著就執行 return 語法返回一個 A 字母，返回後函式就不再執行。<br/>
接著在最後一行程式會將執行 `test` 函式返回的結果字母 A 印出。

## 挑戰你的大腦
執行以下程式最後變數 result 裡的數值會是什麼？想想看並試著印出來驗證看看
<Playground javascript={`
def add (a, b):
  return a + b
result = add(add(10, 20), 30)
`} />

<Quiz
  description={`在最後一個範例程式裡，如果執行 add(add(10, 10), add(10, 10)) 請問最後會計算出什麼數值？`}
  options={[
    '10',
    '20',
    '40',
    '80',
  ]}
  answer={2}
/>

:::caution 重點整理
* 語法 function 是用來創造函式
* 語法 return 在函式中是用來傳回資料
* 函式參數寫在小括號中並用逗號相隔
* 在函式後加上一對小括號表示執行它
:::